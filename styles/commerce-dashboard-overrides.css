:root {
  --commerce-dashboard-gutter: clamp(1rem, 3vw, 2.5rem);
}

/*
  Reset inherited container constraints that prevent the dashboard from
  stretching the full width of the viewport. We explicitly unset the
  max-width that comes from the global site shell so the dashboard can
  use the entire available space without introducing a horizontal scroll.
*/
body.commerce-dashboard .page-wrapper,
body.commerce-dashboard main,
body.commerce-dashboard .page-content,
body.commerce-dashboard .dashboard-content,
body.commerce-dashboard .container,
body.commerce-dashboard .container-fluid {
  max-width: none;
  width: 100%;
  margin-left: 0;
  margin-right: 0;
}

/*
  Allow the commerce dashboard content rails to reach edge-to-edge while
  maintaining a comfortable breathing room that scales with the viewport.
*/
body.commerce-dashboard .dashboard-content > * {
  padding-left: var(--commerce-dashboard-gutter);
  padding-right: var(--commerce-dashboard-gutter);
}

/*
  Ensure the dashboard cards stretch uniformly when a grid layout is used.
*/
body.commerce-dashboard .dashboard-content .grid,
body.commerce-dashboard .dashboard-content .grid > * {
  width: 100%;
}

/*
  Prevent the commerce ledger table from forcing a horizontal scroll by
  allowing cells to wrap and by constraining overly wide content.
*/
body.commerce-dashboard .commerce-ledger table {
  table-layout: fixed;
  width: 100%;
}

body.commerce-dashboard .commerce-ledger th,
body.commerce-dashboard .commerce-ledger td {
  white-space: normal;
  overflow-wrap: anywhere;
}

body.commerce-dashboard .commerce-ledger td .badge,
body.commerce-dashboard .commerce-ledger td .status,
body.commerce-dashboard .commerce-ledger td .label {
  display: inline-flex;
  max-width: 100%;
  flex-wrap: wrap;
}

/*
  Provide a stronger backdrop for the manage modal so that it is readable
  even when the site shell applies transparency.
*/
.manage-modal .modal-backdrop.show,
body.commerce-dashboard .modal-backdrop.show {
  opacity: 0.6;
  background-color: rgba(15, 23, 42, 0.85);
}

.manage-modal .modal-dialog,
body.commerce-dashboard .manage-modal .modal-dialog {
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}

.manage-modal .modal-content,
body.commerce-dashboard .manage-modal .modal-content {
  background-color: rgba(15, 23, 42, 0.92);
  color: #f8fafc;
  box-shadow: 0 24px 48px rgba(15, 23, 42, 0.35);
  border: 1px solid rgba(148, 163, 184, 0.35);
}

.manage-modal .modal-header,
.manage-modal .modal-footer,
body.commerce-dashboard .manage-modal .modal-header,
body.commerce-dashboard .manage-modal .modal-footer {
  border-color: rgba(148, 163, 184, 0.25);
}

.manage-modal .btn,
body.commerce-dashboard .manage-modal .btn {
  color: inherit;
}

/*
  Improve contrast for form labels and helper text within the modal so the
  content remains legible after the darker background is applied.
*/
.manage-modal label,
.manage-modal .form-text,
.manage-modal .form-label,
.manage-modal .modal-body,
body.commerce-dashboard .manage-modal label,
body.commerce-dashboard .manage-modal .form-text,
body.commerce-dashboard .manage-modal .form-label,
body.commerce-dashboard .manage-modal .modal-body {
  color: rgba(248, 250, 252, 0.92);
}
